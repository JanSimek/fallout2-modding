---
sidebar_position: 6
title: Animation Functions
description: SSL functions for animation sequences and visual effects
tags: [vanilla]
---

# Animation Functions

Functions for controlling animations, movement, and visual effects.

## animate_stand <span class="tag-vanilla">vanilla</span> {#animate_stand}

```ssl
void animate_stand
```

Sets up an animation for the currently focused object (`self`) to run its stand animation. This can be used to:
- Open doors
- Open container items (refrigerators, lockers, etc.)
- Run a critter's fidget animation

Should be used in place of [`animate_set_frame`](#animate_set_frame) for 2-frame animations.

Macro alias for [`animate_stand_obj`](#animate_stand_obj)`(self_obj)`.

<FnRef fn="animate_stand_obj" />

---

## animate_stand_obj <span class="tag-vanilla">vanilla</span> {#animate_stand_obj}

```ssl
void animate_stand_obj(ObjectPtr obj)
```

Sets up an animation for an object to run its stand animation. This can be used to:
- Open doors
- Open container items (refrigerators, lockers, etc.)
- Run a critter's fidget animation

**Parameters:**
- `obj` - Object to animate

<FnRef fn="animate_stand_obj" />
---

## animate_stand_reverse <span class="tag-vanilla">vanilla</span> {#animate_stand_reverse}

```ssl
void animate_stand_reverse
```

Sets up an animation for `self` to run its stand animation in reverse. Used only for non-critters to cause them to close (close doors, containers, etc.).

Macro alias for [`animate_stand_reverse_obj`](#animate_stand_reverse_obj)`(self_obj)`.

<FnRef fn="animate_stand_reverse_obj" />

---

## animate_stand_reverse_obj <span class="tag-vanilla">vanilla</span> {#animate_stand_reverse_obj}

```ssl
void animate_stand_reverse_obj(ObjectPtr obj)
```

Sets up an animation for an object to run its stand animation in reverse.

**Parameters:**
- `obj` - Object to animate


<FnRef fn="animate_stand_reverse_obj" />
---

## animate_move_obj_to_tile <span class="tag-vanilla">vanilla</span> {#animate_move_obj_to_tile}

```ssl
void animate_move_obj_to_tile(ObjectPtr who, int tile, int speed)
```

Sets up an animation for a critter to walk to a given tile at a given speed. Speed (walk/run) can also have a flag attached to force the object to stop its current animation first.

**Parameters:**
- `who` - Critter to move
- `tile` - Destination tile number
- `speed` - Movement speed (0 = walk, 1 = run)


<FnRef fn="animate_move_obj_to_tile" />

---

## animate_run_to_tile <span class="tag-vanilla">vanilla</span> {#animate_run_to_tile}

```ssl
void animate_run_to_tile(int tile)
```

Sets up an animation for `self_obj` to run to a given tile.

Macro alias for [`animate_move_obj_to_tile`](#animate_move_obj_to_tile)`(self_obj, tile, ANIMATE_RUN)`.

**Parameters:**
- `tile` - Destination tile number

<FnRef fn="animate_move_obj_to_tile" />

---

## animate_rotation <span class="tag-vanilla">vanilla</span> {#animate_rotation}

```ssl
void animate_rotation(int direction)
```

Changes the orientation (facing) of `self_obj` to the given direction.

Macro alias for [`anim`](#anim)`(self_obj, ANIMATE_ROTATION, direction)`.

**Parameters:**
- `direction` - Direction (0-5)

<FnRef fn="anim" />

---

## animate_set_frame <span class="tag-vanilla">vanilla</span> {#animate_set_frame}

```ssl
void animate_set_frame(int newFrame)
```

Changes the current animation frame of `self_obj` to the given frame number. Can be used to make lights go to broken lights or alarm/siren lights.

Macro alias for [`anim`](#anim)`(self_obj, ANIMATE_SET_FRAME, newFrame)`.

**Parameters:**
- `newFrame` - Frame number

<FnRef fn="anim" />

---

## anim <span class="tag-vanilla">vanilla</span> {#anim}

```ssl
void anim(ObjectPtr who, int anim, int direction)
```

Sets up a single-frame animation for an object that runs in the given direction.

**Parameters:**
- `who` - Object to animate
- `anim` - Animation constant
- `direction` - Direction (0-5)


<FnRef fn="anim" />
---

## anim_busy <span class="tag-vanilla">vanilla</span> {#anim_busy}

```ssl
int anim_busy(ObjectPtr who)
```

Returns True if an object is currently animating. Can be used to determine if a given object has completed an animation.

**Parameters:**
- `who` - Object to check

**Returns:** `int` - Boolean


<FnRef fn="anim_busy" />
---

## anim_action_frame <span class="tag-vanilla">vanilla</span> {#anim_action_frame}

```ssl
int anim_action_frame(ObjectPtr who, int frame)
```

Returns the action frame of the given art frame on a given object. Can be used as the delay in an animation registration sequence.

**Parameters:**
- `who` - Object to check
- `frame` - Frame number

**Returns:** `int` - Action frame

<FnRef fn="anim_action_frame" />

---

## art_anim <span class="tag-vanilla">vanilla</span> {#art_anim}

```ssl
int art_anim(int fid)
```

Returns the animation type that a FID represents (ANIM_stand, ANIM_pickup, etc.).

**Parameters:**
- `fid` - Frame ID

**Returns:** `int` - Animation constant


<FnRef fn="art_anim" />
---

## explosion <span class="tag-vanilla">vanilla</span> {#explosion}

```ssl
int explosion(int where, int elevation, int damage)
```

Sets up an explosion at a given tile number on a given elevation, causing damage in a radius.

**Parameters:**
- `where` - Tile number
- `elevation` - Elevation (0-2)
- `damage` - Damage amount


<FnRef fn="explosion" />
---

## Registered Animation Functions

The following functions are used to build animation sequences that play in order.

### reg_anim_begin <span class="tag-vanilla">vanilla</span> {#reg_anim_begin}

```ssl
void reg_anim_begin
```

Tells the system to start an animation sequence-list.

Macro alias for `REG_ANIM_FUNC(ANIM_BEGIN)`.

<FnRef fn="reg_anim_func" />

---

### reg_anim_end <span class="tag-vanilla">vanilla</span> {#reg_anim_end}

```ssl
void reg_anim_end
```

Activates the animation sequence-list. Without this call, the animation will never occur.

Macro alias for `REG_ANIM_FUNC(ANIM_END)`.

:::important
All animation sequences must be registered at ONCE! You cannot let the script end and finish registering the animations later.
:::

**Example:**
```ssl
reg_anim_begin;
reg_anim_animate(self_obj, ANIM_magic_hands_middle, -1);
reg_anim_obj_move_to_tile(self_obj, tile_num(dude_obj), -1);
reg_anim_end;
```

<FnRef fn="reg_anim_func" />

---

### reg_anim_clear <span class="tag-vanilla">vanilla</span> {#reg_anim_clear}

```ssl
void reg_anim_clear(ObjectPtr object)
```

Terminates all animations currently registered for a given object.

Macro alias for `REG_ANIM_FUNC(ANIM_CLEAR, object)`.

**Parameters:**
- `object` - Object to clear animations

<FnRef fn="reg_anim_func" />

---

### reg_anim_animate <span class="tag-vanilla">vanilla</span> {#reg_anim_animate}

```ssl
void reg_anim_animate(ObjectPtr what, int anim, int delay)
```

Adds a single, in-place animation on an object to an animation sequence-list.

**Parameters:**
- `what` - Object to animate
- `anim` - Animation constant
- `delay` - Delay from previous animation (should always be -1)

<FnRef fn="reg_anim_animate" />

---

### reg_anim_animate_forever <span class="tag-vanilla">vanilla</span> {#reg_anim_animate_forever}

```ssl
void reg_anim_animate_forever(ObjectPtr what, int anim, int delay)
```

Adds a continuous animation that plays until something interrupts it. Use sparingly.

**Parameters:**
- `what` - Object to animate
- `anim` - Animation constant
- `delay` - Delay (should always be -1)

<FnRef fn="reg_anim_animate_forever" />

---

### reg_anim_animate_reverse <span class="tag-vanilla">vanilla</span> {#reg_anim_animate_reverse}

```ssl
void reg_anim_animate_reverse(ObjectPtr what, int anim, int delay)
```

Adds a single, in-place reversed animation to an animation sequence-list.

**Parameters:**
- `what` - Object to animate
- `anim` - Animation constant
- `delay` - Delay (should always be -1)

<FnRef fn="reg_anim_animate_reverse" />

---

### reg_anim_obj_move_to_obj <span class="tag-vanilla">vanilla</span> {#reg_anim_obj_move_to_obj}

```ssl
void reg_anim_obj_move_to_obj(ObjectPtr who, ObjectPtr dest_obj, int delay)
```

Adds an animation to cause a critter to walk to another object.

**Parameters:**
- `who` - Critter to move
- `dest_obj` - Destination object
- `delay` - Delay (should always be -1)

<FnRef fn="reg_anim_obj_move_to_obj" />

---

### reg_anim_obj_run_to_obj <span class="tag-vanilla">vanilla</span> {#reg_anim_obj_run_to_obj}

```ssl
void reg_anim_obj_run_to_obj(ObjectPtr who, ObjectPtr dest_obj, int delay)
```

Adds an animation to cause a critter to run to another object.

**Parameters:**
- `who` - Critter to move
- `dest_obj` - Destination object
- `delay` - Delay (should always be -1)

<FnRef fn="reg_anim_obj_run_to_obj" />

---

### reg_anim_obj_move_to_tile <span class="tag-vanilla">vanilla</span> {#reg_anim_obj_move_to_tile}

```ssl
void reg_anim_obj_move_to_tile(ObjectPtr who, int dest_tile, int delay)
```

Adds an animation to cause a critter to walk to a destination tile.

**Parameters:**
- `who` - Critter to move
- `dest_tile` - Destination tile number
- `delay` - Delay (should always be -1)

<FnRef fn="reg_anim_obj_move_to_tile" />

---

### reg_anim_obj_run_to_tile <span class="tag-vanilla">vanilla</span> {#reg_anim_obj_run_to_tile}

```ssl
void reg_anim_obj_run_to_tile(ObjectPtr who, int dest_tile, int delay)
```

Adds an animation to cause a critter to run to a destination tile.

**Parameters:**
- `who` - Critter to move
- `dest_tile` - Destination tile number
- `delay` - Delay (should always be -1)

<FnRef fn="reg_anim_obj_run_to_tile" />

---

### reg_anim_play_sfx <span class="tag-vanilla">vanilla</span> {#reg_anim_play_sfx}

```ssl
void reg_anim_play_sfx(ObjectPtr who, string sfx_name, int delay)
```

Adds a sound effect to play during an animation sequence.

**Parameters:**
- `who` - Object associated with sound
- `sfx_name` - Sound effect name
- `delay` - Delay from previous animation

<FnRef fn="reg_anim_play_sfx" />

---

## Extended Animation Functions (sfall)

:::caution Partial Implementation in fallout2-ce
Some of these extended animation functions may not be implemented in fallout2-ce. Check individual function notes for implementation status.
:::

The following functions extend the animation system with additional capabilities.

### reg_anim_animate_and_hide <span class="tag-sfall">sfall</span> {#reg_anim_animate_and_hide}

:::caution Not Implemented in fallout2-ce
This function is **not yet implemented** in fallout2-ce.
:::

```ssl
void reg_anim_animate_and_hide(ObjectPtr obj, int anim, int delay)
```

Works exactly like `reg_anim_animate` but the object will automatically disappear after the animation completes. Useful for death animations or effects that should vanish.

**Parameters:**
- `obj` - Object to animate
- `anim` - Animation constant
- `delay` - Delay from previous animation

---

### reg_anim_animate_and_move <span class="tag-sfall">sfall</span> {#reg_anim_animate_and_move}

:::caution Not Implemented in fallout2-ce
This function is **not yet implemented** in fallout2-ce.
:::

```ssl
void reg_anim_animate_and_move(ObjectPtr obj, int tile, int anim, int delay)
```

Plays the specified animation while simultaneously moving the object to the given tile. Useful for custom movement animations.

**Parameters:**
- `obj` - Object to animate
- `tile` - Destination tile number
- `anim` - Animation constant to play during movement
- `delay` - Delay from previous animation

---

### reg_anim_callback <span class="tag-sfall">sfall</span> {#reg_anim_callback}

:::caution Not Implemented in fallout2-ce
This function is **not yet implemented** in fallout2-ce.
:::

```ssl
void reg_anim_callback(procedure proc)
```

Adds the given procedure to an animation sequence-list and executes it in the registered sequence. This allows you to run custom code at specific points during an animation sequence.

**Parameters:**
- `proc` - Procedure to call during the animation sequence

**Example:**
```ssl
procedure on_pickup begin
    // Code runs when animation reaches this point
    display_msg("Item picked up!");
end

reg_anim_begin;
reg_anim_obj_move_to_obj(dude_obj, item_obj, -1);
reg_anim_callback(on_pickup);
reg_anim_animate(dude_obj, ANIM_magic_hands_middle, -1);
reg_anim_end;
```

---

### reg_anim_change_fid <span class="tag-sfall">sfall</span> {#reg_anim_change_fid}

:::caution Not Implemented in fallout2-ce
This function is **not yet implemented** in fallout2-ce.
:::

```ssl
void reg_anim_change_fid(ObjectPtr obj, int fid, int delay)
```

Changes the Frame ID (art) of an object during an animation sequence. Similar to `art_change_fid_num` but executed as part of a registered animation sequence.

**Parameters:**
- `obj` - Object to change
- `fid` - New Frame ID
- `delay` - Delay from previous animation

---

### art_change_fid_num <span class="tag-sfall">sfall</span> {#art_change_fid_num}

```ssl
void art_change_fid_num(ObjectPtr obj, int fid)
```

Immediately changes the Frame ID (art) of an object to the specified FID. The change takes effect immediately, outside of animation sequences.

**Parameters:**
- `obj` - Object to modify
- `fid` - New Frame ID
